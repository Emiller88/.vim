
" Check for bundle directory
if !isdirectory(expand("~/.vim/bundle"))
    silent !mkdir -p ~/.vim/bundle
endif

" Checks for and installs neobundle
let has_nb = 1
let nb_path = expand("~/.vim/bundle/neobundle.vim/README.md")
if !filereadable(nb_path)
    echo "Installing NeoBundle"
    echo ""

    silent !git clone https://github.com/Shougo/neobundle.vim ~/.vim/bundle/neobundle.vim

    NeoBundleInstall!
    let has_nb = 0
endif

" Checks for and symlinks vim's rc files (if they don't exist)
let rcfiles = [".vimrc", ".gvimrc", ".ycm_extra_conf.py"]
for f in rcfiles
    if !filereadable(expand("~/".f))
        echo "Linking ".f

        call system("ln -s ~/.vim/".f." ~/".f)
    endif
endfor

" Initialize NeoBundle
filetype on " without this vim emits a zero exit status, later, because of :ft off
filetype off
set rtp+=~/.vim/bundle/neobundle.vim/
call neobundle#rc(expand('~/.vim/bundle'))
NeoBundleFetch 'Shougo/neobundle.vim'

" vim:set ft=vim fmr={,} fdl=0 fdm=marker:
